<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <title>Web API - Wallace</title>
  

  <link rel="shortcut icon" href="../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Web API";
    var mkdocs_page_input_path = "Web-API.md";
    var mkdocs_page_url = "/Web-API/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Wallace</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">Home</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../Classes/">Classes</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../Command-line-utility/">Command line utility</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../Communicating-with-the-server/">Communicating with the server</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../Demoing-Wallace/">Demoing Wallace</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../Developing-Wallace-(setup-guide)/">Developing Wallace (setup guide)</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../Installing-Wallace-(for-users)/">Installing Wallace (for users)</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../Learning-to-use-Wallace/">Learning to use Wallace</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../Monitoring-a-live-experiment/">Monitoring a live experiment</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../Required-experimental-files/">Required experimental files</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../Setting-up-AWS,-psiTurk,-MTurk,-and-Heroku/">Setting up AWS, psiTurk, MTurk, and Heroku</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../The-Experiment-class/">The Experiment class</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../Using-Postico-to-examine-a-Postgres-database/">Using Postico to examine a Postgres database</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../Wallace,-the-scientist/">Wallace, the scientist</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../Wallace-with-Anaconda/">Wallace with Anaconda</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 current">
        <a class="current" href="./">Web API</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#miscellaneous-routes">Miscellaneous routes</a></li>
                
            
                <li class="toctree-l3"><a href="#experiment-routes">Experiment routes</a></li>
                
            
            </ul>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Demos</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../demos/bartlett1932/">Bartlett1932</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../demos/chatroom/">Chatroom</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../demos/function-learning/">Function learning</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../demos/mcmcp/">Mcmcp</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../demos/rogers/">Rogers</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Wallace</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Web API</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p>The Wallace server comes with a number of pre-existing routes by which the front-end can communicate with the back end. Many of these routes correspond to specific functions of Wallace's <a href="https://github.com/suchow/Wallace/wiki/Classes">classes</a>, particularly Node. For instance, Nodes have a connect method that creates new Vectors between Nodes and there is a corresponding connect route that allows the front end to call this method.</p>
<h4 id="miscellaneous-routes">Miscellaneous routes</h4>
<p><strong>/ad_address/\<mode>/\<hit_id></strong> [get] <br />
Used to get the address of the experiment on the psiTurk server and to return participants to MTurk upon completion of the experiment. This route is pinged automatically by the function <code>submit_assignment</code> in wallace.js.</p>
<p><strong>/\<directory>/\<page></strong> [get] <br />
Returns the html page with the name \<page> from the directory called \<directory>.</p>
<p><strong>/summary</strong> [get] <br />
Returns a summary of the statuses of Participants.</p>
<p><strong>/\<page></strong> [get] <br />
Returns the html page with the name \<page>.</p>
<h4 id="experiment-routes">Experiment routes</h4>
<p><strong>/experiment_property/\<property></strong> [get] <br />
Returns the value of the requested property as a json <code>&lt;property&gt;</code>.</p>
<p><strong>/info/\<node_id>/\<info_id></strong> [get] <br />
Returns a json description of the requested info as <code>info</code>. <em>node_id</em> must be specified to ensure the requesting node has access to the requested info. Calls experiment method `info_get_request(node, info).</p>
<p><strong>/info/\<node_id></strong> [post] <br />
Create an info with its origin set to the specified node. <em>contents</em> must be passed as data. <em>info_type</em> can be passed as data and will cause the info to be of the specified type. Also calls experiment method <code>info_post_request(node, info)</code>.</p>
<p><strong>/launch</strong> [post] <br />
Initializes the experiment and opens recruitment. This route is automatically pinged by Wallace.</p>
<p><strong>/network/\<network_id></strong> [get] <br />
Returns a json description of the requested network as <code>network</code>.</p>
<p><strong>/node/\<node_id>/connect/\<other_node_id></strong> [post] <br />
Create vector(s) between the <code>node</code> and <code>other_node</code> by calling <code>node.connect(whom=other_node)</code>. Direction can be passed as data and will be forwarded as an argument. Calls experiment method <code>vector_post_request(node, vectors)</code>. Returns a list of json descriptions of the created vectors as <code>vectors</code>.</p>
<p><strong>/node/\<node_id>/infos</strong> [get] <br />
Returns a list of json descriptions of the infos created by the node as <code>infos</code>. Infos are identified by calling <code>node.infos()</code>. <em>info_type</em> can be passed as data and will be forwarded as an argument. Requesting node and the list of infos are also passed to experiment method <code>info_get_request(node, infos)</code>.</p>
<p><strong>/node/\<node_id>/neighbors</strong> [get] <br />
Returns a list of json descriptions of the node's neighbors as <code>nodes</code>. Neighbors are identified by calling <code>node.neighbors()</code>. <em>node_type</em> and <em>connection</em> can be passed as data and will be forwarded as arguments. Requesting node and list of neighbors are also passed to experiment method <code>node_get_request(node, nodes)</code>.</p>
<p><strong>/node/\<node_id>/received_infos</strong> [get] <br />
Returns a list of json descriptions of the infos sent to the node as <code>infos</code>. Infos are identified by calling <code>node.received_infos()</code>. <em>info_type</em> can be passed as data and will be forwarded as an argument. Requesting node and the list of infos are also passed to experiment method <code>info_get_request(node, infos)</code>.</p>
<p><strong>/node/\<int:node_id>/transformations</strong> [get] <br />
Returns a list of json descriptions of all the transformations of a node identified using <code>node.transformations()</code>. The node id must be specified in the url. You can also pass <em>transformation_type</em> as data and it will be forwarded to <code>node.transformations()</code> as the argument <em>type</em>.</p>
<p><strong>/node/\<node_id>/transmissions</strong> [get] <br />
Returns a list of json descriptions of the transmissions sent to/from the node as <code>transmissions</code>. Transmissions are identified by calling <code>node.transmissions()</code>. <em>direction</em> and <em>status</em> can be passed as data and will be forwarded as arguments. Requesting node and the list of transmissions are also passed to experiment method <code>transmission_get_request(node, transmissions)</code>.</p>
<p><strong>/node/\<node_id>/transmit</strong> [post] <br />
Transmit to another node by calling <code>node.transmit()</code>. The sender's node id must be specified in the url. As with node.transmit() the key parameters are what and to_whom and they should be passed as data. However, the values these accept are more limited than for the back end due to the necessity of serialization. <br />
If what and to_whom are not specified they will default to None.
Alternatively you can pass an int (e.g. '5') or a class name (e.g.
'Info' or 'Agent'). Passing an int will get that info/node, passing
a class name will pass the class. Note that if the class you are specifying
is a custom class it will need to be added to the dictionary of
known_classes in your experiment code. <br />
You may also pass the values property1, property2, property3, property4
and property5. If passed this will fill in the relevant values of the
transmissions created with the values you specified. <br />
The transmitting node and a list of created transmissions are sent to experiment method <code>transmission_post_request(node, transmissions)</code>. This route returns a list of json descriptions of the created transmissions as <code>transmissions</code>.
For example, to transmit all infos of type Meme to the node with id 10:</p>
<pre><code>reqwest({
    url: &quot;/node/&quot; + my_node_id + &quot;/transmit&quot;,
    method: 'post',
    type: 'json',
    data: {
        what: &quot;Meme&quot;,
        to_whom: 10,
    },
});
</code></pre>

<p><strong>/node/\<node_id>/vectors</strong> [get] <br />
Returns a list of json descriptions of vectors connected to the node as <code>vectors</code>. Vectors are identified by calling <code>node.vectors()</code>. <em>direction</em> and <em>failed</em> can be passed as data and will be forwarded as arguments. Requesting node and list of vectors are also passed to experiment method <code>vector_get_request(node, vectors)</code>. </p>
<p><strong>/node/\<participant_id></strong> [post] <br />
Create a node for the specified participant. The route calls the following experiment methods: <code>get_network_for_participant(participant)</code>, <code>create_node(network, participant)</code>, <code>add_node_to_network(node, network)</code>, and <code>node_post_request(participant, node)</code>. Returns a json description of the created node as <code>node</code>.</p>
<p><strong>/participant/\<participant_id></strong> [get] <br />
Returns a json description of the requested participant as <code>participant</code>.</p>
<p><strong>/participant/\<worker_id>/\<hit_id>/\<assignment_id>/\<mode></strong> [post] <br />
Create a participant. Returns a json description of the participant as <code>participant</code>.</p>
<p><strong>/question/\<participant_id></strong> [post] <br />
Create a question. <em>question</em>, <em>response</em> and <em>question_id</em> should be passed as data. Does not return anything.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../demos/bartlett1932/" class="btn btn-neutral float-right" title="Bartlett1932">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../Wallace-with-Anaconda/" class="btn btn-neutral" title="Wallace with Anaconda"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../Wallace-with-Anaconda/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../demos/bartlett1932/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
