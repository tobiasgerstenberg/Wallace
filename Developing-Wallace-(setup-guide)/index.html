
<!DOCTYPE html>
<html>
<head>
  
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    <title>For developers &mdash; Wallace</title>

    
      <link rel="shortcut icon" href="../img/favicon.ico">
    

    <link rel="stylesheet" href="../css/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../css/alabaster-overrides.css" type="text/css" />

    
      <link href="../css/style.css" rel="stylesheet">
    

    

    

    <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

    
  
</head>
<body role="document">

  <div class="document">
    <div class="documentwrapper">
      <div class="bodywrapper">
        <div class="body" role="main">
          
            <h1 id="developers-installation-of-wallace">Developer's installation of Wallace</h1>
<h4 id="install-python-27">Install Python 2.7</h4>
<p>You will need Python 2.7. You can check what version of Python you have by running:
    <code>python --version</code>
If you do not have Python 2.7 installed, you can install it from the <a href="https://www.python.org/downloads/">Python website</a>.</p>
<p>Or, if you use Homebrew:</p>
<pre><code>brew install python
</code></pre>

<p>If you have Python 3.<em>x</em> installed and and symlinked to the command <code>python</code>, you will need to create a <code>virtualenv</code> that interprets the code as <code>python2.7</code> (for compatibility with the <code>psiturk</code> module). Fortunately, we will be creating a virtual environment anyway, so as long as you run <code>brew install python</code> and you don't run into any errors because of your symlinks, then you can proceed with the instructions. If you do run into any errors, good luck, we're rooting for you. </p>
<h4 id="install-postgres">Install Postgres</h4>
<p>On OS X, we recommend installing <a href="../postgresapp.com">Postgres.app</a> to start and stop the Postgres server.</p>
<h4 id="create-the-database">Create the Database</h4>
<p>After installing Postgres, you will need to create a database for your experiments to use. Run the following command from the comand line:</p>
<pre><code>psql -c 'create database wallace;' -U postgres
</code></pre>

<h4 id="set-up-a-virtual-environment">Set up a virtual environment</h4>
<p>Set up a virtual environment by running the following commands:</p>
<pre><code>pip install virtualenv
pip install virtualenvwrapper
export WORKON_HOME=$HOME/.virtualenvs
mkdir -p $WORKON_HOME
source $(which virtualenvwrapper.sh)
mkvirtualenv wallace --python /usr/local/bin/python2.7
</code></pre>

<p>These commands use <code>pip</code>, the Python package manager, to install two packages <code>virtualenv</code> and <code>virtualenvwrapper</code>. They set up an environmental variable named <code>WORKON_HOME</code> with a string that gives a path to a subfolder of your home directory (<code>~</code>) called <code>Envs</code>, which the next command (<code>mkdir</code>) then makes according to the path described in <code>$WORKON_HOME</code> (recursively, due to the <code>-p</code> flag). That is where your environments will be stored. The <code>source</code> command will run the command that follows, which in this case locates the <code>virtualenvwrapper.sh</code> shell script, the contents of which are beyond the scope of this setup tutorial. If you want to know what it does, a more in depth description can be found at <a href="http://virtualenvwrapper.readthedocs.org/en/latest/install.html#python-interpreter-virtualenv-and-path">this page on <code>virtualenvwrapper.sh</code></a>. Finally, the <code>mkvirtualenv</code> makes your first virtual environment which you've named <code>wallace</code>. We have explicitly passed it the location of <code>python2.7</code> so that even if your <code>python</code> command has been remapped to <code>python3</code>, it will create the environment with <code>python2.7</code> as its interpreter.</p>
<p>In the future, you can work on your virtual environment by running:</p>
<pre><code>source $(which virtualenvwrapper.sh)
workon wallace
</code></pre>

<p>NB: To stop working on the virtual environment, run <code>deactivate</code>. To list all available virtual environments, run <code>workon</code> with no arguments.</p>
<h4 id="install-wallace">Install Wallace</h4>
<p>Next, navigate to the directory where you want to house your development work on Wallace. Once there, clone the Git repository using:</p>
<pre><code>git clone https://github.com/berkeley-cocosci/Wallace
</code></pre>

<p>This will create a directory called <code>Wallace</code> in your current directory. </p>
<p>Change into your the new directory and make sure you are still in your virtual environment before installing the dependencies. If you want to be extra carfeul, run the command <code>workon wallace</code>, which will ensure that you are in the right virtual environment.</p>
<pre><code>cd Wallace
</code></pre>

<p>Now we need to install the dependencies using pip:</p>
<pre><code>pip install -r requirements.txt
</code></pre>

<p>Next run <code>setup.py</code> with the argument <code>develop</code>:</p>
<pre><code>python setup.py develop
</code></pre>

<p>Test that your installation works by running:</p>
<pre><code>wallace --version
</code></pre>

<p><strong>Note</strong>: if you are using Anaconda and get a long traceback here, please see the special <a href="../Wallace-with-Anaconda/">Anaconda installation instructions</a>.</p>
<p>Next, you'll need <a href="../AWS-etc-keys/">access keys for AWS, Heroku, etc.</a></p>
            
          
        </div>
      </div>
    </div>
    <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
      <div class="sphinxsidebarwrapper">
        
  <h1 class="logo"><a href="..">Wallace</a></h1>



        
          



<h3>Table Of Contents</h3>

<nav>
  
  
    <ul>
    
      <li><a href="#install-python-27">Install Python 2.7</a></li>
      <ul>
    
  </ul>
    
      <li><a href="#install-postgres">Install Postgres</a></li>
      <ul>
    
  </ul>
    
      <li><a href="#create-the-database">Create the Database</a></li>
      <ul>
    
  </ul>
    
      <li><a href="#set-up-a-virtual-environment">Set up a virtual environment</a></li>
      <ul>
    
  </ul>
    
      <li><a href="#install-wallace">Install Wallace</a></li>
      <ul>
    
  </ul>
    
  </ul>
  

  
</nav>
          
  <h3>Related Topics</h3>
  <ul>
    
      <li>Previous: <a href="../Installing-Wallace-(for-users)/" title="previous chapter">
        For users
      </a></li>
    
    
      <li>Next: <a href="../AWS-etc-keys/" title="next chapter">
        Keys for AWS, Heroku, etc.
      </a></li>
    
  </ul>

        
        <div id="searchbox" style="display: none;" role="search">
  <h3>Quick search</h3>
  <form class="search" action="../search.html" method="get">
    <input name="q" type="text">
    <input value="Go" type="submit">
  </form>
  <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
  </p>
</div>
<script type="text/javascript">
  document.getElementById("searchbox").style.display = "block";
</script>
      </div>
    </div>
    <div class="clearer"></div>
  </div>

  
    <div class="footer">
      
      
        
        Powered by <a href="http://www.mkdocs.org">MkDocs 0.15.3</a>
        &amp; <a href="https://github.com/iamale/mkdocs-alabaster">Alabaster</a>
      
    </div>
  

  <!--
  MkDocs version      : 0.15.3
  Docs Build Date UTC : 2016-08-09 01:59:36.456873
  -->
</body>
</html>